(this["webpackJsonpmovies-app-react-redux-typescript"]=this["webpackJsonpmovies-app-react-redux-typescript"]||[]).push([[0],{57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),i=a(6),o=(a(44),a(45),a(64)),l=a(62),d=a(61),j=a(27),b=a(13),u=a.n(b),p=a(19),h="SET_ERROR",m="SET_ALERT",O=function(e){return function(){var t=Object(p.a)(u.a.mark((function t(a){var n,r,c,s,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,3e3,r=new AbortController,c=setTimeout((function(){r.abort(),a({type:m,payload:"Movie not found!"})}),3e3),t.next=6,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("98b323db1158e0ffe4c2c0daaea4616a","&query=").concat(e),{signal:r.signal});case 6:if((s=t.sent).ok){t.next=12;break}return t.next=10,s.json();case 10:i=t.sent,a({type:h,payload:{message:i.message}});case 12:return t.next=14,s.json();case 14:o=t.sent,(l=null===(n=o.results[0])||void 0===n?void 0:n.id)?(a({type:m,payload:""}),a({type:"GET_MOVIE_ID",payload:l})):(a({type:m,payload:""}),a({type:h,payload:{message:"Movie file not found!"}})),clearTimeout(c),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.error("ERROR: "+t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return{type:m,payload:e}},x=a(67),v=a(1),f=function(e){var t=e.stars,a=function(e){e.target.src="http://placehold.jp/253x380.png"};return Object(v.jsx)(r.a.Fragment,{children:t.slice(0,12).map((function(e,t){return Object(v.jsx)(j.a,{xs:6,md:2,children:Object(v.jsxs)(x.a,{className:"mb-3",children:[Object(v.jsx)(x.a.Img,{variant:"top",src:"https://image.tmdb.org/t/p/w500/".concat(e.profile_path),onError:a}),Object(v.jsxs)(x.a.Body,{children:[Object(v.jsx)(x.a.Title,{children:e.name}),Object(v.jsx)(x.a.Text,{children:e.character})]})]})},t)}))})},y=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.movie.credits}));return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,r,c,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a().movie.id)){e.next=22;break}return e.prev=2,e.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=").concat("98b323db1158e0ffe4c2c0daaea4616a","&language=en-US"));case 5:if((r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:c=e.sent,t({type:h,payload:{message:c.message}});case 11:return e.next=13,r.json();case 13:s=e.sent,i=s.cast.map((function(e){return{name:e.name,id:e.id,character:e.character,profile_path:e.profile_path}})),o=s.crew.map((function(e){return{name:e.name,id:e.id,department:e.department,profile_path:e.profile_path}})),t({type:"GET_MOVIE_CREDITS",payload:{cast:i,crew:o}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("ERROR: "+e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),t?Object(v.jsx)(n.Fragment,{children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{xs:12,children:Object(v.jsx)("h2",{className:"mb-3",children:"Top Billed Cast"})}),Object(v.jsx)(f,{stars:t.cast})]})}):Object(v.jsx)("div",{})},_=a(28),E=a.n(_),k=function(e){var t=e.data.images.backdrops.map((function(e){return{original:"https://image.tmdb.org/t/p/original/".concat(e.file_path),thumbnail:"https://image.tmdb.org/t/p/w500/".concat(e.file_path)}}));return Object(v.jsx)(n.Fragment,{children:Object(v.jsx)(E.a,{items:t})})},w=function(e){var t,a=e.data;return Object(v.jsxs)(n.Fragment,{children:[Object(v.jsx)(d.a,{children:Object(v.jsx)(j.a,{xs:12,children:Object(v.jsx)("h2",{className:"mb-3",children:"Media: Images"})})}),Object(v.jsx)(d.a,{children:Object(v.jsx)(j.a,{xs:12,children:Object(v.jsx)(k,{data:a})})}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{xs:12,children:Object(v.jsx)("h2",{className:"mb-3",children:"Media: Trailer"})}),Object(v.jsx)(j.a,{children:Object(v.jsx)("iframe",{title:a.title,className:"has-ratio",style:{width:"100%",height:700},src:"https://www.youtube.com/embed/".concat(null===(t=a.videos.results[0])||void 0===t?void 0:t.key,"?playlist=VIDEO_ID&loop=1&showinfo=0&controls=0&rel=0&showinfo=0&disablekb=1&iv_load_policy=3&modestbranding=1"),frameBorder:"0",allowFullScreen:!0})})]})]})},T=function(){var e,t=Object(i.b)(),a=Object(i.c)((function(e){return e.movie.details}));Object(n.useEffect)((function(){t(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a().movie.id)){e.next=20;break}return e.prev=2,e.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat("98b323db1158e0ffe4c2c0daaea4616a","&append_to_response=videos,images"));case 5:if((r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:c=e.sent,t({type:h,payload:{message:c.message}});case 11:return e.next=13,r.json();case 13:s=e.sent,t({type:"GET_MOVIE_DETAILS",payload:{id:s.id,title:s.title,tagline:s.tagline,budget:s.budget,genres:s.genres,homepage:s.homepage,original_language:s.original_language,original_title:s.original_language,overview:s.overview,popularity:s.popularity,poster_path:s.poster_path,release_date:s.release_date,revenue:s.revenue,runtime:s.runtime,spoken_languages:s.spoken_languages,status:s.status,vote_average:s.vote_average,vote_count:s.vote_count,videos:s.videos,images:s.images}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("ERROR: "+e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,a){return e.apply(this,arguments)}}())}),[t]);return a?Object(v.jsxs)(n.Fragment,{children:[Object(v.jsx)("div",{style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(null===(e=a.images.backdrops[0])||void 0===e?void 0:e.file_path,")"),backgroundSize:"contain",backgroundPosition:"right",backgroundRepeat:"no-repeat",borderBottom:"2px solid red"},children:Object(v.jsx)("div",{style:{padding:"50px 0",backgroundImage:"linear-gradient( 109.6deg,  rgba(62,161,219,0.8) 11.2%, rgba(93,52,236,0.8) 100.2% )"},children:Object(v.jsx)(l.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{xs:12,md:4,children:Object(v.jsx)("img",{style:{width:"100%"},src:"https://image.tmdb.org/t/p/original/".concat(a.poster_path),alt:a.title,onError:function(e){e.target.src="http://placehold.jp/253x380.png"}})}),Object(v.jsx)(j.a,{xs:12,md:8,children:Object(v.jsxs)("div",{className:"movie-infos",children:[Object(v.jsxs)("h1",{className:"title",children:[a.title," (",a.release_date.substr(0,4),")"]}),Object(v.jsx)("p",{className:"subtitle",children:Object(v.jsxs)("span",{children:[a.release_date," -",a.genres.map((function(e){return Object(v.jsxs)("span",{children:[" ",e.name,". "]},e.id)}))," "]})}),Object(v.jsxs)("p",{children:["Language: ",a.spoken_languages[0].name," - Runtime:"," ",a.runtime," Min."]}),Object(v.jsxs)("h6",{children:["Vote Average: ",a.vote_average," - Vote Count:"," ",a.vote_count," - Popularity: ",a.popularity]}),Object(v.jsx)("h4",{className:"my-3 blue-color",children:a.tagline.toUpperCase()}),Object(v.jsx)("h4",{children:Object(v.jsx)("b",{children:"Overview"})}),Object(v.jsx)("p",{children:a.overview}),a.budget>0&&a.revenue>0?Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Budget: "}),a.budget.toLocaleString("en-US",{style:"currency",currency:"USD"})," ","- ",Object(v.jsx)("b",{children:"Revenue: "}),a.revenue.toLocaleString("en-US",{style:"currency",currency:"USD"})]}):null,Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Status:"})," ",a.status]}),a.homepage&&Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Homepage:"})," ",Object(v.jsx)("a",{href:a.homepage,target:"_blank",rel:"noreferrer",children:a.homepage})]})]})})]})})})})}),Object(v.jsxs)(l.a,{children:[Object(v.jsx)(y,{}),Object(v.jsx)(w,{data:a})]})]}):Object(v.jsx)("div",{})},R=a(65),S=function(e){var t=e.message,a=e.onClose;return Object(v.jsx)(l.a,{children:Object(v.jsx)(d.a,{children:Object(v.jsx)(j.a,{className:"my-3",children:Object(v.jsx)(o.a.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1}}},children:Object(v.jsx)(R.a,{variant:"danger",onClose:a,dismissible:!0,children:Object(v.jsx)(R.a.Heading,{children:t})})})})})})},I=a(34),N=a(66),C=a(63),D=function(e){var t=e.title,a=Object(i.b)(),r=Object(n.useState)(""),c=Object(I.a)(r,2),s=c[0],o=c[1];return Object(v.jsx)("div",{className:"py-3",style:{backgroundColor:"rgba(0,0,0,.2)"},children:Object(v.jsx)(l.a,{children:Object(v.jsx)(N.a,{onSubmit:function(e){if(e.preventDefault(),""===s.trim())return a(g("Movie title is required!"));a({type:"SET_LOADING"}),a(O(s)),o("")},children:Object(v.jsxs)(N.a.Row,{className:"align-items-center",children:[Object(v.jsx)(j.a,{xs:12,md:10,children:Object(v.jsx)(N.a.Control,{type:"text",placeholder:t,onChange:function(e){o(e.currentTarget.value)}})}),Object(v.jsx)(j.a,{xs:12,md:2,children:Object(v.jsx)(C.a,{type:"submit",variant:"primary",style:{width:"100%"},children:"Search"})})]})})})})},M=function(){return Object(v.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,.2)"},children:Object(v.jsx)(l.a,{children:Object(v.jsx)("footer",{className:"mt-5",children:Object(v.jsx)("p",{className:"text-center m-0 py-3",children:"Copyright \xa9 Wail Solaiman 2021 All Rights Reserved"})})})})};a(57);var L=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.movie.id})),a=Object(i.c)((function(e){return e.movie.loading})),r=Object(i.c)((function(e){var t;return null===(t=e.movie.error)||void 0===t?void 0:t.message})),c=Object(i.c)((function(e){return e.alert.message}));return Object(n.useEffect)((function(){e({type:"SET_LOADING"}),e(O("alien"))}),[e]),Object(v.jsxs)(n.Fragment,{children:[Object(v.jsxs)("div",{className:"content",children:[r&&Object(v.jsx)(S,{message:r,onClose:function(){return e({type:h,payload:{message:""}})}}),c&&Object(v.jsx)(S,{message:c,onClose:function(){return e(g(""))}}),Object(v.jsx)(D,{title:"Enter movie name and press search button"}),a?Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)("p",{className:"mt-5",children:"Loading..."})})}):Object(v.jsx)(o.a.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delay:.8}}},children:t&&Object(v.jsx)(T,{})})]}),Object(v.jsx)(M,{})]})},A=a(17),G=a(31),V=a(32),F=a(33),B=a.n(F),U=a(10),q={id:null,details:null,credits:null,loading:!1,error:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_ID":return{id:t.payload,details:null,credits:null,loading:!1,error:null};case"GET_MOVIE_DETAILS":return Object(U.a)(Object(U.a)({},e),{},{details:t.payload});case"GET_MOVIE_CREDITS":return Object(U.a)(Object(U.a)({},e),{},{credits:t.payload});case"SET_LOADING":return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case"SET_ERROR":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload,loading:!1});default:return e}},J={message:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":return Object(U.a)(Object(U.a)({},e),{},{message:t.payload});default:return e}},W=Object(A.combineReducers)({movie:H,alert:P}),z=Object(A.createStore)(W,Object(G.composeWithDevTools)(Object(A.applyMiddleware)(V.a,B.a)));s.a.render(Object(v.jsx)(r.a.Fragment,{children:Object(v.jsx)(i.a,{store:z,children:Object(v.jsx)(L,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.52a2b9a3.chunk.js.map