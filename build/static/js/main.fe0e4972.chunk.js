(this["webpackJsonpmovies-app-react-redux-typescript"]=this["webpackJsonpmovies-app-react-redux-typescript"]||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),i=a(6),o=(a(48),a(49),a(71)),l=a(69),d=a(68),j=a(31),b=a(13),u=a.n(b),p=a(20),h="SET_ERROR",m="SET_ALERT",O=function(e){return function(){var t=Object(p.a)(u.a.mark((function t(a){var n,r,c,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("98b323db1158e0ffe4c2c0daaea4616a","&query=").concat(e));case 3:if((r=t.sent).ok){t.next=9;break}return t.next=7,r.json();case 7:c=t.sent,a({type:h,payload:{message:c.message}});case 9:return t.next=11,r.json();case 11:s=t.sent,(i=null===(n=s.results[0])||void 0===n?void 0:n.id)?(a({type:m,payload:""}),a({type:"GET_MOVIE_ID",payload:i})):(a({type:m,payload:""}),a({type:h,payload:{message:"Movie file not found!"}})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("ERROR: "+t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return{type:m,payload:e}},x=a(74),v=a(26),f=a.n(v),y=a(1),_=function(e){var t=e.stars,a=function(e){e.target.src="http://placehold.jp/253x380.png"};return Object(y.jsx)(r.a.Fragment,{children:t.slice(0,12).map((function(e,t){return Object(y.jsx)(j.a,{xs:6,md:2,children:Object(y.jsxs)(x.a,{className:"mb-3",children:[Object(y.jsx)(x.a.Img,{variant:"top",src:"https://image.tmdb.org/t/p/w500/".concat(e.profile_path),onError:a}),Object(y.jsxs)(x.a.Body,{children:[Object(y.jsx)(x.a.Title,{children:e.name||Object(y.jsx)(f.a,{duration:2,delay:1})}),Object(y.jsx)(x.a.Text,{children:e.character||Object(y.jsx)(f.a,{duration:2,delay:1})})]})]})},t)}))})},E=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.movie.credits}));return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,r,c,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a().movie.id)){e.next=22;break}return e.prev=2,e.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=").concat("98b323db1158e0ffe4c2c0daaea4616a","&language=en-US"));case 5:if((r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:c=e.sent,t({type:h,payload:{message:c.message}});case 11:return e.next=13,r.json();case 13:s=e.sent,i=s.cast.map((function(e){return{name:e.name,id:e.id,character:e.character,profile_path:e.profile_path}})),o=s.crew.map((function(e){return{name:e.name,id:e.id,department:e.department,profile_path:e.profile_path}})),t({type:"GET_MOVIE_CREDITS",payload:{cast:i,crew:o}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("ERROR: "+e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),t?Object(y.jsx)(n.Fragment,{children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(j.a,{xs:12,children:Object(y.jsx)("h2",{className:"mb-3",children:"Top Billed Cast"})}),Object(y.jsx)(_,{stars:t.cast})]})}):Object(y.jsx)("div",{})},k=a(32),w=a.n(k),R=function(e){var t=e.data.images.backdrops.map((function(e){return{original:"https://image.tmdb.org/t/p/original/".concat(e.file_path),thumbnail:"https://image.tmdb.org/t/p/w500/".concat(e.file_path)}}));return Object(y.jsx)(n.Fragment,{children:Object(y.jsx)(w.a,{items:t})})},S=function(e){var t,a=e.data;return Object(y.jsxs)(n.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)(j.a,{xs:12,children:Object(y.jsx)("h2",{className:"mb-3",children:"Media: Images"})})}),Object(y.jsx)(d.a,{children:Object(y.jsx)(j.a,{xs:12,children:Object(y.jsx)(R,{data:a})})}),Object(y.jsxs)(d.a,{children:[Object(y.jsx)(j.a,{xs:12,children:Object(y.jsx)("h2",{className:"mb-3",children:"Media: Trailer"})}),Object(y.jsx)(j.a,{children:Object(y.jsx)("iframe",{title:a.title,className:"has-ratio",style:{width:"100%",height:700},src:"https://www.youtube.com/embed/".concat(null===(t=a.videos.results[0])||void 0===t?void 0:t.key,"?playlist=VIDEO_ID&loop=1&showinfo=0&controls=0&rel=0&showinfo=0&disablekb=1&iv_load_policy=3&modestbranding=1"),frameBorder:"0",allowFullScreen:!0})})]})]})},T=function(){var e,t,a=Object(i.b)(),r=Object(i.c)((function(e){return e.movie.details}));Object(n.useEffect)((function(){a(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a().movie.id)){e.next=20;break}return e.prev=2,e.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat("98b323db1158e0ffe4c2c0daaea4616a","&append_to_response=videos,images"));case 5:if((r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:c=e.sent,t({type:h,payload:{message:c.message}});case 11:return e.next=13,r.json();case 13:s=e.sent,t({type:"GET_MOVIE_DETAILS",payload:{id:s.id,title:s.title,tagline:s.tagline,budget:s.budget,genres:s.genres,homepage:s.homepage,original_language:s.original_language,original_title:s.original_language,overview:s.overview,popularity:s.popularity,poster_path:s.poster_path,release_date:s.release_date,revenue:s.revenue,runtime:s.runtime,spoken_languages:s.spoken_languages,status:s.status,vote_average:s.vote_average,vote_count:s.vote_count,videos:s.videos,images:s.images}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("ERROR: "+e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,a){return e.apply(this,arguments)}}())}),[a]);return r?Object(y.jsxs)(n.Fragment,{children:[Object(y.jsx)("div",{style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(null===(e=r.images.backdrops[0])||void 0===e?void 0:e.file_path,")"),backgroundSize:"contain",backgroundPosition:"right",backgroundRepeat:"no-repeat",borderBottom:"2px solid red"},children:Object(y.jsx)("div",{style:{padding:"50px 0",backgroundImage:"linear-gradient( 109.6deg,  rgba(62,161,219,0.8) 11.2%, rgba(93,52,236,0.8) 100.2% )"},children:Object(y.jsx)(l.a,{children:Object(y.jsx)("div",{children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(j.a,{xs:12,md:4,children:Object(y.jsx)("img",{style:{width:"100%"},src:"https://image.tmdb.org/t/p/original/".concat(r.poster_path),alt:r.title,onError:function(e){e.target.src="http://placehold.jp/253x380.png"}})}),Object(y.jsx)(j.a,{xs:12,md:8,children:Object(y.jsxs)("div",{className:"movie-infos",children:[Object(y.jsxs)("h1",{className:"title",children:[r.title," (",r.release_date.substr(0,4),")"]}),Object(y.jsx)("p",{className:"subtitle",children:Object(y.jsxs)("span",{children:[r.release_date," -",r.genres.map((function(e){return Object(y.jsxs)("span",{children:[" ",e.name,". "]},e.id)}))," "]})}),Object(y.jsxs)("p",{children:["Language: ",null===(t=r.spoken_languages[0])||void 0===t?void 0:t.name," - Runtime:"," ",r.runtime," Min."]}),Object(y.jsxs)("h6",{children:["Vote Average: ",r.vote_average," - Vote Count:"," ",r.vote_count," - Popularity: ",r.popularity]}),Object(y.jsx)("h4",{className:"my-3 blue-color",children:r.tagline.toUpperCase()}),Object(y.jsx)("h4",{children:Object(y.jsx)("b",{children:"Overview"})}),Object(y.jsx)("p",{children:r.overview}),r.budget>0&&r.revenue>0?Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Budget: "}),r.budget.toLocaleString("en-US",{style:"currency",currency:"USD"})," ","- ",Object(y.jsx)("b",{children:"Revenue: "}),r.revenue.toLocaleString("en-US",{style:"currency",currency:"USD"})]}):null,Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Status:"})," ",r.status]}),r.homepage&&Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Homepage:"})," ",Object(y.jsx)("a",{href:r.homepage,target:"_blank",rel:"noreferrer",children:r.homepage})]})]})})]})})})})}),Object(y.jsxs)(l.a,{children:[Object(y.jsx)(E,{}),Object(y.jsx)(S,{data:r})]})]}):Object(y.jsx)("div",{})},I=a(72),N=function(e){var t=e.message,a=e.onClose;return Object(y.jsx)(l.a,{children:Object(y.jsx)(d.a,{children:Object(y.jsx)(j.a,{className:"my-3",children:Object(y.jsx)(o.a.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1}}},children:Object(y.jsx)(I.a,{variant:"danger",onClose:a,dismissible:!0,children:Object(y.jsx)(I.a.Heading,{children:t})})})})})})},D=a(38),C=a(73),M=a(70),L=function(e){var t=e.title,a=Object(i.b)(),r=Object(n.useState)(""),c=Object(D.a)(r,2),s=c[0],o=c[1];return Object(y.jsx)("div",{className:"py-3",style:{backgroundColor:"rgba(0,0,0,.2)"},children:Object(y.jsx)(l.a,{children:Object(y.jsx)(C.a,{onSubmit:function(e){if(e.preventDefault(),""===s.trim())return a(g("Movie title is required!"));a({type:"SET_LOADING"}),a(O(s)),o("")},children:Object(y.jsxs)(C.a.Row,{className:"align-items-center",children:[Object(y.jsx)(j.a,{xs:12,md:10,children:Object(y.jsx)(C.a.Control,{type:"text",placeholder:t,onChange:function(e){o(e.currentTarget.value)},value:s})}),Object(y.jsx)(j.a,{xs:12,md:2,children:Object(y.jsx)(M.a,{type:"submit",variant:"primary",style:{width:"100%"},children:"Search"})})]})})})})},A=function(){return Object(y.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,.2)"},children:Object(y.jsx)(l.a,{children:Object(y.jsx)("footer",{className:"mt-5",children:Object(y.jsx)("p",{className:"text-center m-0 py-3",children:"Copyright \xa9 Wail Solaiman 2021 All Rights Reserved"})})})})};a(65);var G=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.movie.id})),a=Object(i.c)((function(e){return e.movie.loading})),r=Object(i.c)((function(e){var t;return null===(t=e.movie.error)||void 0===t?void 0:t.message})),c=Object(i.c)((function(e){return e.alert.message}));return Object(n.useEffect)((function(){e({type:"SET_LOADING"}),e(O("alien"))}),[e]),Object(y.jsxs)(n.Fragment,{children:[Object(y.jsxs)("div",{className:"content",children:[r&&Object(y.jsx)(N,{message:r,onClose:function(){return e({type:h,payload:{message:""}})}}),c&&Object(y.jsx)(N,{message:c,onClose:function(){return e(g(""))}}),Object(y.jsx)(L,{title:"Enter movie name and press search button"}),a?Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("div",{className:"text-center",children:Object(y.jsx)("p",{className:"mt-5",children:"Loading..."})})}):Object(y.jsx)(o.a.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delay:.9}}},children:t&&Object(y.jsx)(T,{})})]}),Object(y.jsx)(A,{})]})},V=a(17),F=a(35),B=a(36),U=a(37),q=a.n(U),H=a(10),J={id:null,details:null,credits:null,loading:!1,error:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_ID":return{id:t.payload,details:null,credits:null,loading:!1,error:null};case"GET_MOVIE_DETAILS":return Object(H.a)(Object(H.a)({},e),{},{details:t.payload});case"GET_MOVIE_CREDITS":return Object(H.a)(Object(H.a)({},e),{},{credits:t.payload});case"SET_LOADING":return Object(H.a)(Object(H.a)({},e),{},{loading:!0});case"SET_ERROR":return Object(H.a)(Object(H.a)({},e),{},{error:t.payload,loading:!1});default:return e}},W={message:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":return Object(H.a)(Object(H.a)({},e),{},{message:t.payload});default:return e}},K=Object(V.combineReducers)({movie:P,alert:z}),Q=Object(V.createStore)(K,Object(F.composeWithDevTools)(Object(V.applyMiddleware)(B.a,q.a)));s.a.render(Object(y.jsx)(r.a.Fragment,{children:Object(y.jsx)(i.a,{store:Q,children:Object(y.jsx)(G,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.fe0e4972.chunk.js.map